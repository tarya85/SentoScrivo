{"version":3,"sources":["custom.js","visible.js","jquery.scrollme.min.js"],"names":["is_touch_device","window","navigator","maxTouchPoints","$","fn","visible","partial","$t","this","$w","viewTop","scrollTop","viewBottom","height","_top","offset","top","_bottom","jQuery","win","allMods","each","i","el","addClass","scroll","event","scrollme","a","d","c","document","b","body_height","viewport_height","viewport_top","viewport_bottom","viewport_top_previous","elements","elements_in_view","property_defaults","opacity","translatex","translatey","translatez","rotatex","rotatey","rotatez","scale","scalex","scaley","scalez","scrollme_selector","animateme_selector","update_interval","easing_functions","linear","e","easeout","easein","easeinout","init_events","init_if","init","init_elements","on_resize","on","load","setTimeout","setInterval","update","element","f","find","addBack","h","when","data","from","to","is","crop","easing","g","properties","push","effects","requestAnimationFrame","update_viewport_position","update_elements_in_view","animate","C","length","A","D","w","r","n","bottom","x","j","k","v","l","animate_value","t","u","s","B","z","y","E","q","p","m","css","transform","toFixed","update_viewport","update_element_heights","outerHeight","join","ready","orientationchange resize","fadeOut","removeClass","fadeIn","parent","not","preventDefault","location","pathname","replace","hostname","target","hash","slice"],"mappings":"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","file":"bundle.min.js","sourcesContent":["/*$(window).load(function() {\n    $(\".site-loader\").fadeOut(\"slow\");;\n});*/\n\njQuery(document).ready(function($){\n\n    /*$('#searchform').submit(function(e) { \n        var s = $( this ).find(\"#s\").val($.trim($( this ).find(\"#s\").val()));\n        if (!s.val()) { \n            e.preventDefault(); \n            $('#s').focus();\n        }\n    });*/\n    \n    //center content in home header and set it 100% height\n    if($('.site-home-slider').length > 0){\n        $('.site-home-slider').css('minHeight',$(window).height());\n\n        $(window).on({'orientationchange resize' : function(){\n               $('.site-home-slider').css('minHeight',$(window).height());\n            }\n        });\n    }\n\n    $(window).scroll(function(){\n        if ($(window).scrollTop() >= ($('.site-header').outerHeight(true))) {\n            $('.site-header').addClass('fixed-header');\n            $('.site-header .site-top').fadeOut(0);\n\n        }\n        else {\n            $('.site-header').removeClass('fixed-header');\n            $('.site-header .site-top').fadeIn(500);\n\n        }\n\n        if ($(this).scrollTop() > 100) {\n            $('.scrollToTop').fadeIn();\n          } else {\n            $('.scrollToTop').fadeOut();\n          }\n    });\n\n    if ($('img.aligncenter').length > 0) {\n      $('img.aligncenter').parent('p').css('textAlign','center');\n    }\n\n    $(\"a[href^='#']\").not('[href=\"#\"]').on(\"click tap\", function(e) {\n        e.preventDefault();\n        if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n          var target = $(this.hash);\n          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n          if (target.length) {\n            $('html,body').animate({\n              scrollTop: target.offset().top\n            }, 500);\n            return false;\n          }\n        }\n    });\n\n    $('.site-header .site-header__hamburger').on(\"click tap\", function(e) {\n        e.preventDefault();\n        $('.site-overlay').css('width','100%');\n    });\n\n    $('.site-overlay .close').on(\"click tap\", function(e) {\n        e.preventDefault();\n        $('.site-overlay').css('width','0%');\n    });\n\n})\n\n\nfunction is_touch_device() {\n  return 'ontouchstart' in window        // works on most browsers\n      || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};","(function($) {\n\n  /**\n   * Copyright 2012, Digital Fusion\n   * Licensed under the MIT license.\n   * http://teamdf.com/jquery-plugins/license/\n   *\n   * @author Sam Sehnert\n   * @desc A small plugin that checks whether elements are within\n   *     the user visible viewport of a web browser.\n   *     only accounts for vertical position, not horizontal.\n   */\n\n  $.fn.visible = function(partial) {\n    \n      var $t            = $(this),\n          $w            = $(window),\n          viewTop       = $w.scrollTop(),\n          viewBottom    = viewTop + $w.height(),\n          _top          = $t.offset().top,\n          _bottom       = _top + $t.height(),\n          compareTop    = partial === true ? _bottom : _top,\n          compareBottom = partial === true ? _top : _bottom;\n    \n    return ((compareBottom <= viewBottom) && (compareTop >= viewTop));\n\n  };\n    \n})(jQuery);\n\nvar win = $(window);\n\nvar allMods = $(\".module\");\n\nallMods.each(function(i, el) {\n  var el = $(el);\n  if (el.visible(true)) {\n    el.addClass(\"already-visible\"); \n  } \n});\n\nwin.scroll(function(event) {\n  \n  allMods.each(function(i, el) {\n    var el = $(el);\n    if (el.visible(true)) {\n      el.addClass(\"come-in\"); \n    } \n  });\n  \n});","// ----------------------------------------------------------------------------------------------------\n// ScrollMe\n// A jQuery plugin for adding simple scrolling effects to web pages\n// http://scrollme.nckprsn.com\n// ----------------------------------------------------------------------------------------------------\nvar scrollme=(function(a){var d={};var c=a(document);var b=a(window);d.body_height=0;d.viewport_height=0;d.viewport_top=0;d.viewport_bottom=0;d.viewport_top_previous=-1;d.elements=[];d.elements_in_view=[];d.property_defaults={opacity:1,translatex:0,translatey:0,translatez:0,rotatex:0,rotatey:0,rotatez:0,scale:1,scalex:1,scaley:1,scalez:1};d.scrollme_selector=\".scrollme\";d.animateme_selector=\".animateme\";d.update_interval=10;d.easing_functions={linear:function(e){return e},easeout:function(e){return e*e*e},easein:function(e){e=1-e;return 1-(e*e*e)},easeinout:function(e){if(e<0.5){return(4*e*e*e)}else{e=1-e;return 1-(4*e*e*e)}}};d.init_events=[\"ready\",\"page:load\",\"page:change\"];d.init_if=function(){return true};d.init=function(){if(!d.init_if()){return false}d.init_elements();d.on_resize();b.on(\"resize orientationchange\",function(){d.on_resize()});b.load(function(){setTimeout(function(){d.on_resize()},100)});setInterval(d.update,d.update_interval);return true};d.init_elements=function(){a(d.scrollme_selector).each(function(){var e={};e.element=a(this);var f=[];a(this).find(d.animateme_selector).addBack(d.animateme_selector).each(function(){var h={};h.element=a(this);h.when=h.element.data(\"when\");h.from=h.element.data(\"from\");h.to=h.element.data(\"to\");if(h.element.is(\"[data-crop]\")){h.crop=h.element.data(\"crop\")}else{h.crop=true}if(h.element.is(\"[data-easing]\")){h.easing=d.easing_functions[h.element.data(\"easing\")]}else{h.easing=d.easing_functions.easeout}var g={};if(h.element.is(\"[data-opacity]\")){g.opacity=h.element.data(\"opacity\")}if(h.element.is(\"[data-translatex]\")){g.translatex=h.element.data(\"translatex\")}if(h.element.is(\"[data-translatey]\")){g.translatey=h.element.data(\"translatey\")}if(h.element.is(\"[data-translatez]\")){g.translatez=h.element.data(\"translatez\")}if(h.element.is(\"[data-rotatex]\")){g.rotatex=h.element.data(\"rotatex\")}if(h.element.is(\"[data-rotatey]\")){g.rotatey=h.element.data(\"rotatey\")}if(h.element.is(\"[data-rotatez]\")){g.rotatez=h.element.data(\"rotatez\")}if(h.element.is(\"[data-scale]\")){g.scale=h.element.data(\"scale\")}if(h.element.is(\"[data-scalex]\")){g.scalex=h.element.data(\"scalex\")}if(h.element.is(\"[data-scaley]\")){g.scaley=h.element.data(\"scaley\")}if(h.element.is(\"[data-scalez]\")){g.scalez=h.element.data(\"scalez\")}h.properties=g;f.push(h)});e.effects=f;d.elements.push(e)})};d.update=function(){window.requestAnimationFrame(function(){d.update_viewport_position();if(d.viewport_top_previous!=d.viewport_top){d.update_elements_in_view();d.animate()}d.viewport_top_previous=d.viewport_top})};d.animate=function(){var C=d.elements_in_view.length;for(var A=0;A<C;A++){var h=d.elements_in_view[A];var f=h.effects.length;for(var D=0;D<f;D++){var w=h.effects[D];switch(w.when){case\"view\":case\"span\":var r=h.top-d.viewport_height;var n=h.bottom;break;case\"exit\":var r=h.bottom-d.viewport_height;var n=h.bottom;break;default:var r=h.top-d.viewport_height;var n=h.top;break}if(w.crop){if(r<0){r=0}if(n>(d.body_height-d.viewport_height)){n=d.body_height-d.viewport_height}}var g=(d.viewport_top-r)/(n-r);var x=w.from;var j=w.to;var o=j-x;var k=(g-x)/o;var v=w.easing(k);var l=d.animate_value(g,v,x,j,w,\"opacity\");var t=d.animate_value(g,v,x,j,w,\"translatey\");var u=d.animate_value(g,v,x,j,w,\"translatex\");var s=d.animate_value(g,v,x,j,w,\"translatez\");var B=d.animate_value(g,v,x,j,w,\"rotatex\");var z=d.animate_value(g,v,x,j,w,\"rotatey\");var y=d.animate_value(g,v,x,j,w,\"rotatez\");var E=d.animate_value(g,v,x,j,w,\"scale\");var q=d.animate_value(g,v,x,j,w,\"scalex\");var p=d.animate_value(g,v,x,j,w,\"scaley\");var m=d.animate_value(g,v,x,j,w,\"scalez\");if(\"scale\" in w.properties){q=E;p=E;m=E}w.element.css({opacity:l,transform:\"translate3d( \"+u+\"px , \"+t+\"px , \"+s+\"px ) rotateX( \"+B+\"deg ) rotateY( \"+z+\"deg ) rotateZ( \"+y+\"deg ) scale3d( \"+q+\" , \"+p+\" , \"+m+\" )\"})}}};d.animate_value=function(i,h,j,k,n,m){var g=d.property_defaults[m];if(!(m in n.properties)){return g}var e=n.properties[m];var f=(k>j)?true:false;if(i<j&&f){return g}if(i>k&&f){return e}if(i>j&&!f){return g}if(i<k&&!f){return e}var l=g+(h*(e-g));switch(m){case\"opacity\":l=l.toFixed(2);break;case\"translatex\":l=l.toFixed(0);break;case\"translatey\":l=l.toFixed(0);break;case\"translatez\":l=l.toFixed(0);break;case\"rotatex\":l=l.toFixed(1);break;case\"rotatey\":l=l.toFixed(1);break;case\"rotatez\":l=l.toFixed(1);break;case\"scale\":l=l.toFixed(3);break;default:break}return l};d.update_viewport_position=function(){d.viewport_top=b.scrollTop();d.viewport_bottom=d.viewport_top+d.viewport_height};d.update_elements_in_view=function(){d.elements_in_view=[];var f=d.elements.length;for(var e=0;e<f;e++){if((d.elements[e].top<d.viewport_bottom)&&(d.elements[e].bottom>d.viewport_top)){d.elements_in_view.push(d.elements[e])}}};d.on_resize=function(){d.update_viewport();d.update_element_heights();d.update_viewport_position();d.update_elements_in_view();d.animate()};d.update_viewport=function(){d.body_height=c.height();d.viewport_height=b.height()};d.update_element_heights=function(){var g=d.elements.length;for(var f=0;f<g;f++){var h=d.elements[f].element.outerHeight();var e=d.elements[f].element.offset();d.elements[f].height=h;d.elements[f].top=e.top;d.elements[f].bottom=e.top+h}};c.on(d.init_events.join(\" \"),function(){d.init()});return d})(jQuery);\n"]}